<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Official page of Avishikta - I Type - A RWA. Stay informed, get involved, and build a stronger association.">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="theme-color" content="#000000" />

  <!-- Confetti script from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <title>Avishikta - I Type - A RWA</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans&display=swap" rel="stylesheet" />

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <style>

  :root {
    --bg-color: linear-gradient(90deg, rgba(2, 0, 36, 1) 0%, rgba(9, 9, 121, 1) 24%, rgba(17, 145, 209, 1) 100%, rgba(1, 186, 238, 1) 100%, rgba(0, 212, 255, 1) 100%);
    --text-color: #fff;
  }

  body {
    font-family: 'Open Sans', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    transition: background 0.3s, color 0.3s;
  }

html, body {
  overflow-x: hidden;
}

    /* Your existing styles here... */
    /* Keyframes for ticker animation */
    @keyframes scroll-left {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }

/* Gradient animation */
@keyframes moveGradient {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

   * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

  body.dark {
    --bg-color: #121212;
    --text-color: #e0e0e0;
  }

  #darkModeToggle {
    padding: 10px 10px;
    background: #0072ff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    position: sticky;
    top: 10px;
    right: 20px;
    z-index: 1000;
}

  #darkModeToggle:hover {
    background: #005bb5;
  }

  #layout-root { }

  .hero {
  background: none;
  color: #fff;
  text-align: center;
  padding: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 250px;           /* ‚úÖ set fixed height */
  position: relative;
  overflow: hidden;
  z-index: 1;
  box-shadow: none;
}

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.4);
    }

    .hero-content {
      position: relative;
      text-align: center;
      color: #fff;
      z-index: 2;
    }

    .hero-content h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.5rem;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
    }

    .hero-content p {
      font-size: 1rem;
      font-weight: 500;
      letter-spacing: 0.3px;
      margin: 0;
    }

    .hero-content h2 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    main {
      opacity: 1 !important; /* Force visibility */
      transform: translateY(0) !important;
      margin-top:0;
      padding-top: 0;
    }

  main.visible {
  opacity: 1;
  transform: translateY(0);
}

  main h2 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: clamp(1.0rem, 3vw, 1.2rem);
  text-align: center;
  margin: 1rem auto 1.5rem;
  margin-top: 0.2rem; /* smaller top margin */
  padding-top: 0;
  color: #036bfc;

  background: linear-gradient(
    90deg,
    #ffffff,
    #f0f0f0,
    #ffffff
  );
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  animation: whiteGlow 3s ease-in-out infinite;
}

@keyframes whiteGlow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
      padding: 0 2rem 3rem;
    }

    .card {
      background: linear-gradient(145deg, #2c3e50, #4ca1af); /* Stunning gradient */
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
      text-align: center;
      position: relative;
      overflow: hidden;
      cursor: default;
      width: 100%; /* Ensures the card takes the full available space */
      max-width: 350px; /* Keeps card width under control */
      margin: 0 auto; /* Centers the card */
      transform: translateY(20px);
    }
    .card::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: 0;
      width: 0%;
      height: 4px;
      background: #00e5ff;
      transition: width 0.3s ease, left 0.3s ease;
      border-radius: 2px;
    }

    .card:hover {
      transform: translateY(-12px); /* Slightly larger elevation */
      background: linear-gradient(145deg, #35566b, #5ab3c2); /* Slightly darker to emphasize hover */
      box-shadow: 0 12px 30px rgba(0,229,255,0.6); /* Stronger, more dynamic shadow */
      filter: brightness(1.1); /* Adds a slight brightness effect on hover */
      cursor: default;
    }

    .card:hover::after {
      width: 80%;
      left: 10%;
    }

    .card:focus {
  	outline: 3px solid #005580;
  	outline-offset: 2px;
    }

  .card i {
  font-size: 1.2rem;
  pointer-events: none;
  padding: 0.4rem;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.15); /* subtle translucent bg */
  box-shadow: 0 0 8px rgba(0,0,0,0.3);
  color: inherit; /* keep your assigned colors */
  text-shadow:
    0 0 4px rgba(0,0,0,0.8), /* black outline glow */
    0 0 6px currentColor;      /* glow matching icon color */
}

    .card h3 {
      font-size: 0.95rem;
      margin-bottom: 0.3rem;
      color: #fff;
      pointer-events: none;
      text-shadow: 0 0 6px rgba(0, 229, 255, 0.6); /* Soft glow effect */
    }

    .card p {
      font-size: 0.85rem;
      color: #e0f7fa;
      line-height: 1.;
      pointer-events: none;
    }
    .card:nth-child(2) {
      background: linear-gradient(145deg, #3a9d23, #9be15d);
    }
    .card:nth-child(3) {
  background: linear-gradient(145deg, #ff6e7f, #bfe9ff);
}

.card:nth-child(4) {
  background: linear-gradient(145deg, #654ea3, #eaafc8);
}

@media (max-width: 768px) {
  .card-grid {
    grid-template-columns: 1fr;
    padding: 1rem;
  }

  .card {
    max-width: 100%;
  }
}

.card:nth-child(1) i {
  color: #00e5ff; /* Cyan ‚Äì security/tech */
  font-weight: 900;
}

.card:nth-child(2) i {
  color: #58d68d; /* Fresh green ‚Äì sustainability */
  font-weight: 900;
}

.card:nth-child(3) i {
  color: #ff6f61; /* Coral ‚Äì events & activity */
  font-weight: 900;
}

.card:nth-child(4) i {
  color: #ba68c8; /* Purple ‚Äì support/help */
  font-weight: 900;
}


    a {
      color: #a3d2ca;
      text-decoration: none;
      font-weight: bold;
    }

    a:hover {
      color: #ffffff;
      text-decoration: underline;
      transform: translateX(5px); /* Add a slight shift to the underline for interaction */
    }

    @media (max-width: 600px) {
  .overlay {
    font-size: 1.0rem;
    padding: 0 2rem;
    max-width: 1000px;
  }

  .toast {
  position: fixed;
  top: 20px;
  right: 20px;
  max-width: 320px;
  padding: 1rem 1.5rem;
  background-color: #4CAF50;
  color: white;
  border-radius: 8px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.2);
  font-weight: bold;
  cursor: pointer;
  z-index: 9999;
  transition: opacity 0.3s ease;
}

@media (max-width: 480px) {
  .toast {
    max-width: 90vw;
    right: 5vw;
    top: 10px;
    font-size: 0.9rem;
    padding: 0.8rem 1rem;
  }
}


  .hero {
    min-height: 180px;
  }

  .hero-image {
    object-fit: contain;
  }
}


  .full-width-hero {
  width: 100vw;
  height: 280px;
  position: relative;
  overflow: hidden;
  padding: 0;
  margin: 0;
  border-radius: 0;
  background: none;
  box-shadow: none;
}

   .card-grid {
        display: grid;
  	grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); /* This will ensure cards are dynamically adjusted */
  	gap: 1.5rem;
  	margin-top: 2rem;
        padding: 0 1rem; /* helpful on mobile */
      }
    }

    .image-text-hero {
      position: relative;
      max-width: 720px;
      margin: 0 auto 2rem auto;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
    }

  .hero-image {
  width: 100%;
  max-height: 250px;
  object-fit: cover;
  display: block;
  filter: brightness(100%);
  transition: filter 0.3s ease;
  position: relative; /* or remove absolute if not needed */
  z-index: 0;
}

header.hero {
  margin: 0;
  padding: 0;
  position: relative; /* ensures absolute child (.hero-image) is positioned correctly */
  overflow: hidden; /* hide any overflow if image is absolute */
}

header.hero .hero-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* make sure it fills the header */
  object-fit: cover;
  display: block;
}

    .image-text-hero:hover .hero-image {
      filter: brightness(100%);
    }

  .overlay {
  position: absolute;
  top: 50%;                 /* Vertically center */
  left: 40%;                /* Horizontally center */
  transform: translate(-50%, -50%);  /* True centering */
  z-index: 2;
  color: white;
  background: rgba(0, 0, 0, 0.4);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 2.0rem;
  text-align: center;
}
    .overlay h2 {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 1.8rem;
      color: #fffbea;
      white-space: nowrap;
      text-shadow: 1px 1px 6px rgba(0,0,0,0.6), 0 0 6px rgba(255,255,255,0.2);
      text-align: center;
    }

.welcome-content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.welcome-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  animation: pulse 2s infinite;
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* === GREETINGS MODAL STYLES === */
#greetingModal {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: 9999;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.4s ease;
}

#greetingModal.show {
  display: flex;
  opacity: 1;
}

#greetingModalContent {
  background: linear-gradient(135deg, #1e3c72, #2a5298);
  color: #fff;
  padding: 1.2rem 1.5rem;      /* ‚Üì Less padding */
  border-radius: 12px;         /* ‚Üì Smaller corners */
  max-width: 320px;            /* ‚Üì Narrower box */
  width: 85%;                  /* Still responsive */
  text-align: center;
  box-shadow: 0 10px 25px rgba(0,0,0,0.6);
  animation: fadeInScale 0.4s ease forwards;
  position: relative;
}

#greetingModalContent h2 {
  font-size: 1.0rem;
  margin-bottom: 0.8rem;
}

#greetingModalContent p {
  font-size: 1rem;
  line-height: 1.3;
  margin-bottom: 1.2rem;
}

#closeGreetingBtn {
  background: #f39c12;
  color: #fff;
  border: none;
  padding: 0.5rem 1.2rem;
  border-radius: 6px;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.3s ease;
}

#closeGreetingBtn:hover {
  background: #e67e22;
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Toast Notification */
.toast {
  position: fixed;
  top: 64px; /* üü¢ This pushes it below the ticker (ticker is 54px high) */
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #00c6ff, #0072ff);
  color: white;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: bold;
  font-family: 'Montserrat', sans-serif;
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  z-index: 99999;
  opacity: 0;
  animation: fadeInOut 15s ease-in-out forwards;
}

@keyframes fadeInOut {
  0% { opacity: 0; transform: translate(-50%, -20px); }
  10% { opacity: 1; transform: translate(-50%, 0); }
  90% { opacity: 1; transform: translate(-50%, 0); }
  100% { opacity: 0; transform: translate(-50%, -20px); }
}

.testimonials {
  margin: -1.0rem auto;
  max-width: 700px;
  background: rgba(255, 255, 255, 0.1);
  color: #fff; /* white text */
  font-style: italic;
  font-size: 1.0rem;
  font-weight: 600; /* semi-bold for better emphasis */
  text-align: center;
  min-height: 1em; /* keep height consistent */
  position: relative;
}

.testimonial {
  display: none;
  animation: fadeIn 3s ease-in forwards;
}

.testimonial.active {
  display: block;
}

/* Fade animation */
@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}

#map-popup {
    position: fixed;
    bottom: 70px;
    right: 20px;
    width: 320px;
    height: 240px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.4);
    background: white;
    overflow: hidden;
    z-index: 1000;
    display: none;
  }

  #map-popup iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  #map-toggle-btn {
  top: 20px !important;          /* align vertically with dark mode toggle */
  right: 10px;         /* next to dark mode toggle */
  background: linear-gradient(90deg, #f5e6c4, #d7c1a3);
  color: #003366;
  border: none;
  padding: 8px 8px;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 1001;
  transition: background 0.3s, transform 0.3s;
  position:sticky;
  }

  #map-toggle-btn:hover {
    background: linear-gradient(90deg, #d7c1a3, #f5e6c4);
    transform: translateY(-3px);
  }

.typing-container {
  text-align: center;
  margin: 3rem auto 1.5rem; /* Adds space above and below */
  font-size: 1rem;
  color: #f5e6c4; /* Light cream color */
  font-family: 'Open Sans', sans-serif;
  font-weight: 700; /* Bold */
  min-height: 30px;
  padding: 0.5rem 1rem;
  max-width: 80%;
  border-top: 3px solid #d7c1a3;
}

#typing-text::after {
  content: '|';
  animation: blink 1s step-start infinite;
  color: #f5e6c4;
}

@keyframes blink {
  50% { opacity: 0; }
}

.visitor-guide {
  margin: 2em 0;
  padding: 1em;
  border: 2px solid #0077cc;
  border-radius: 8px;
  background-color: #e6f0ff;
  max-width: 600px;
  font-size: 0.7rem;
}

.visitor-buttons button {
  background: #eee;
  border: 2px solid #ccc;
  border-radius: 6px;
  padding: 10px 16px;
  margin-right: 10px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s, border-color 0.3s;
}

.visitor-buttons button:hover {
  background-color: #ddd;
}

.visitor-buttons button[aria-pressed="true"] {
  background-color: #4a90e2;  /* nice blue */
  border-color: #357ABD;
  color: white;
  font-weight: bold;
  box-shadow: 0 0 6px #357ABD99;
}

.visitor-message, .agm-message {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 4px;
  font-size: 0.9rem;
  line-height: 1.4;
  text-align: justify;
}

/* Visitor message uses existing style */
.visitor-message {
  max-width: 600px;       /* Limit the width */
  margin: 2rem auto;      /* Center horizontally with vertical spacing */
  padding: 1.5rem;
  background-color: #f0f8ff;
  border-left: 4px solid #4a90e2;
  border-radius: 8px;
  text-align: justify;     /* Center all text inside */
  box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* subtle shadow for emphasis */
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* AGM message gets a bold, stunning style */
.agm-message {
  background-color: #ff6f61;        /* Vibrant coral/red */
  color: white;
  border-left: 6px solid #d94f44;   /* Darker red border */
  font-weight: 600;
  font-size: 1rem;
  box-shadow: 0 0 12px #d94f44aa;
}

.main-heading {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: clamp(1.0rem, 3vw, 1.2rem);
  text-align: center;
  margin: 1rem auto 1.5rem;
  padding-top: 0;
  background: linear-gradient(90deg, #ffffff, #f0f0f0, #ffffff);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: whiteGlow 3s ease-in-out infinite;
  color: transparent; /* also needed for Firefox */
}

.main-heading .emoji {
  background: none !important;
  -webkit-background-clip: initial !important;
  -webkit-text-fill-color: initial !important;
  color: #2c7a7b;  /* Your desired color */
  font-size: 1.2em; /* Optional: slightly bigger */
  vertical-align: middle; /* align nicely with text */
}
.emoji {
  color: #00c853; /* or use a hex like #00c853 for a fresher green */
  font-style: normal;
  font-size: 1.2em; /* optional: make it a bit larger if needed */
}


#scrollToTop {
  position: fixed;
  bottom: 50px;       /* move it above the footer */
  right: 20px;
  z-index: 9999;       /* higher than footer and map buttons */
  background-color: #add8e6; /* Light blue */
  color: white;
  border: none;
  border-radius: 50%;
  padding: 8px 10px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  display: none;
  transition: opacity 0.3s, transform 0.3s;
}
#scrollToTop:hover {
  background-color: #87cefa; /* Slightly brighter light blue */
  transform: scale(1.1);
}
#langToggle {
  background-color: transparent;
  border: 2px solid #666;
  padding: 8px 12px;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease;
  background-image: linear-gradient(to right, #4b6cb7, #182848); /* blue gradient */
  color: white;
  border: none;
}

#langToggle:hover,
#langToggle:focus,
#langToggle:active {
  background-image: linear-gradient(to right, #1d976c, #93f9b9); /* green gradient on hover */
  color: #000;
}

#langToggle:focus {
  outline: none;
}

</style>
</head>

<body>

<div id="layout-root">

<!-- GREETINGS MODAL -->
<div id="greetingModal" role="dialog" aria-modal="true" aria-labelledby="greetingTitle" aria-describedby="greetingMessage">
  <div id="greetingModalContent">
    <div class="welcome-icon">üåá</div>
    <h2 id="greetingTitle">Welcome!</h2>
    <p id="greetingMessage">Thanks for visiting!</p>
    <button id="closeGreetingBtn" aria-label="Close greeting popup">Close</button>
  </div>
</div>

<!-- Hero section with header -->
<header class="hero full-width-hero" role="banner">
  <img src="homepage1.jpg" alt="Community Image" class="hero-image" />
  <div class="overlay">
      üñ•Ô∏è Avishikta - 1 Type - A | Digital Hub
  </div>
</header>

<!-- Dark mode and Language toggle buttons -->
<button id="darkModeToggle" aria-label="Toggle dark mode" title="Enable dark mode">üåû</button>
<button id="langToggle" aria-label="Change language to Bengali" title="Change language to Bengali">EN/‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>

<button id="map-toggle-btn">üìç Show Map</button>
<div id="map-popup" style="display:none;">
  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3685.896188561506!2d88.39841147507572!3d22.508077779537675!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a027157cc327c1b%3A0xfe9d5576fd4d1272!2sAvishikta%20Phase%201!5e0!3m2!1sen!2sin!4v1753114166780!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>

<!-- Ticker BELOW header -->
<main role="main" tabindex="-1">
  <h2 class="main-heading">
    <span class="emoji">üå±</span>
    Empowering Our Association, Digitally & Sustainably
  </h2>

  <!-- TESTIMONIAL SLIDER -->
  <section class="testimonials">
    <div class="testimonial active">üåü ‚ÄúA truly warm and serene community ‚Äî it feels like home.‚Äù ‚Äì R. Sen</div>
    <div class="testimonial">üåü ‚ÄúThe digital strides by Type - A Association are both thoughtful and inspiring.‚Äù ‚Äì A. Mukherjee</div>
    <div class="testimonial">üåü ‚ÄúThe lush greenery here soothes the soul and lifts the spirit.‚Äù ‚Äì B. Moitra</div>
    <div class="testimonial">üåü ‚ÄúType - A Association blends calm surroundings with a quietly powerful sense of progress.‚Äù ‚Äì N. Saha</div>
    <div class="testimonial">üåü ‚ÄúFrom thoughtful landscaping to digital ease ‚Äî Type - A raises the bar for community living.‚Äù ‚Äì P. Das</div>
  </section>

  <!-- Typing Animation Section -->
  <div class="typing-container">
    <span id="typing-text"></span>
  </div>

  <div class="card-grid">
    <div class="card" tabindex="0" role="article" aria-label="Smart and Secure Living">
      <i class="fas fa-shield-alt" aria-hidden="true"></i>
      <h3>Smart & Secure Living</h3>
      <p>24/7 safety and smart tech at your fingertips.</p>
    </div>

    <div class="card" tabindex="0" role="article" aria-label="Sustainable Living">
      <i class="fas fa-leaf" aria-hidden="true"></i>
      <h3>Green Living</h3>
      <p>Live clean and green ‚Äî for you and the planet.</p>
    </div>

    <div class="card" tabindex="0" role="article" aria-label="Community Events and Bulletin">
      <i class="fas fa-calendar-check" aria-hidden="true"></i>
      <h3>Events & Updates</h3>
      <p>Stay in the loop with our community happenings.</p>
    </div>

    <div class="card" tabindex="0" role="article" aria-label="Resident Services">
      <i class="fas fa-headset" aria-hidden="true"></i>
      <h3>Resident Support</h3>
      <p>From maintenance to questions ‚Äî we‚Äôre ready to assist.</p>
    </div>
  </div>

</main>

<button id="scrollToTop" title="Scroll to top">üîù</button>

<script>

// Bilingual content for main UI texts beyond greetings
const content = {
  en: {
    heroOverlay: "üñ•Ô∏è Avishikta - 1 Type - A | Digital Hub",
    mainHeading: "üå± Empowering Our Association, Digitally & Sustainably",
    testimonials: [
      "üåü ‚ÄúA truly warm and serene community ‚Äî it feels like home.‚Äù ‚Äì R. Sen",
      "üåü ‚ÄúThe digital strides by Type - A Association are both thoughtful and inspiring.‚Äù ‚Äì A. Mukherjee",
      "üåü ‚ÄúThe lush greenery here soothes the soul and lifts the spirit.‚Äù ‚Äì B. Moitra",
      "üåü ‚ÄúType - A Association blends calm surroundings with a quietly powerful sense of progress.‚Äù ‚Äì N. Saha",
      "üåü ‚ÄúFrom thoughtful landscaping to digital ease ‚Äî Type - A raises the bar for community living.‚Äù ‚Äì P. Das"
    ],
    cards: [
      { title: "Smart & Secure Living", desc: "24/7 safety and smart tech at your fingertips." },
      { title: "Green Living", desc: "Live clean and green ‚Äî for you and the planet." },
      { title: "Events & Updates", desc: "Stay in the loop with our community happenings." },
      { title: "Resident Support", desc: "From maintenance to questions ‚Äî we‚Äôre ready to assist." }
    ],
    map: {
      show: "üìç Show Map",
      hide: "Hide Map"
    },
    darkMode: {
      on: "Dark Mode Enabled",
      off: "Switch to Dark Mode"
    },
    scrollTop: "Scroll to top",
    langToggle: {
      label: "Change language to Bengali",
      title: "Change language to Bengali",
      buttonText: "EN/‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"
    },
    typingPhrases: [
      "At the Heart of Avishikta - I, Beats Type - A Association",
      "Smiles Shared, Stories Grown",
      "Green Grounds, Gentle Vibes",
      "Harmony in Every Home",
      "Kindness Keeps Us Connected",
      "Together in Trust, Always",
      "Where Neighbours Become Friends",
      "Rooted in Care, Rising Together"
    ]
  },
  bn: {
    heroOverlay: "üñ•Ô∏è ‡¶Ö‡¶≠‡¶ø‡¶∑‡¶ø‡¶ï‡ßç‡¶§‡¶æ - ‡ßß ‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è | ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶π‡¶æ‡¶¨",
    mainHeading: "üå± ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶ø‡¶§‡¶ø‡¶ï‡ßá ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ï‡¶∞‡¶æ, ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤‡¶ø ‡¶ì ‡¶ü‡ßá‡¶ï‡¶∏‡¶á‡¶≠‡¶æ‡¶¨‡ßá",
    testimonials: [
      "üåü ‚Äú‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶∑‡ßç‡¶£ ‡¶Ü‡¶∞ ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂ ‚Äî ‡¶è‡¶ü‡¶ø ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶Æ‡¶®‡ßá ‡¶π‡¶Ø‡¶º‡•§‚Äù ‚Äì ‡¶Ü‡¶∞. ‡¶∏‡ßá‡¶®",
      "üåü ‚Äú‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø ‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ‡¶∂‡ßÄ‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßÅ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£‡¶æ‡¶¶‡¶æ‡¶Ø‡¶º‡¶ï‡•§‚Äù ‚Äì ‡¶è. ‡¶Æ‡ßÅ‡¶ñ‡¶æ‡¶∞‡ßç‡¶ú‡¶ø",
      "üåü ‚Äú‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶è‡¶á ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂ ‡¶Æ‡¶®‡¶ï‡ßá ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶ï‡¶∞‡ßá, ‡¶Ü‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶≤‡¶æ‡¶ó‡¶æ‡¶Ø‡¶º ‡¶≠‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶Ø‡¶º‡•§‚Äù ‚Äì ‡¶¨‡¶ø. ‡¶Æ‡ßà‡¶§‡ßç‡¶∞",
      "üåü ‚Äú‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶® ‡¶®‡¶ø‡¶É‡¶∂‡¶¨‡ßç‡¶¶‡ßá ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂‡ßá‡¶∞ ‡¶è‡¶ï ‡¶Ö‡¶®‡¶®‡ßç‡¶Ø ‡¶Æ‡ßá‡¶≤‡¶¨‡¶®‡ßç‡¶ß‡¶®‡•§‚Äù ‚Äì ‡¶è‡¶®. ‡¶∏‡¶æ‡¶π‡¶æ",
      "üåü ‚Äú‡¶∏‡ßÅ-‡¶™‡¶∞‡¶ø‡¶ï‡¶≤‡ßç‡¶™‡¶ø‡¶§ ‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶∏‡ßç‡¶ï‡ßá‡¶™‡¶ø‡¶Ç ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶∏‡¶π‡¶ú‡¶§‡¶æ‡¶Ø‡¶º ‚Äî ‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è ‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡•§‚Äù ‚Äì ‡¶™‡¶ø. ‡¶¶‡¶æ‡¶∏"
    ],
    cards: [
      { title: "‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶ì ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶ú‡ßÄ‡¶¨‡¶®‡¶ß‡¶æ‡¶∞‡¶æ", desc: "‡ß®‡ß™/‡ß≠ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶Ü‡¶∞ ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®‡•§" },
      { title: "‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶ú‡ßÄ‡¶¨‡¶®", desc: "‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶® ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶ú‡ßÄ‡¶¨‡¶®‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ‡•§" },
      { title: "‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ì ‡¶Ü‡¶™‡¶°‡ßá‡¶ü", desc: "‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶Æ‡¶ø‡¶â‡¶®‡¶ø‡¶ü‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®‡•§" },
      { title: "‡¶∞‡ßá‡¶∏‡¶ø‡¶°‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü", desc: "‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡¶æ‡¶¨‡ßá‡¶ï‡ßç‡¶∑‡¶£ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‚Äî ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶™‡¶æ‡¶∂‡ßá ‡¶Ü‡¶õ‡¶ø ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º‡•§" }
    ],
    map: {
      show: "üìç ‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®",
      hide: "‡¶Æ‡¶æ‡¶®‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"
    },
    darkMode: {
      on: "‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° ‡¶Ö‡¶®",
      off: "‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° ‡¶Ö‡¶´‡ßç"
    },
    scrollTop: "‡¶ü‡¶™-‡¶è ‡¶Ø‡¶æ‡¶®",
    langToggle: {
      label: "Change language to English",
      title: "Change language to English",
      buttonText: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ/EN"
    },
    typingPhrases: [
      "‡¶Ö‡¶≠‡¶ø‡¶∑‡¶ø‡¶ï‡ßç‡¶§‡¶æ - ‡ßß ‡¶è‡¶∞ ‡¶π‡ßÉ‡¶¶‡¶Ø‡¶º‡ßá ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶ü‡¶æ‡¶á‡¶™ - ‡¶è ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßã‡¶∏‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶®",
      "‡¶Æ‡¶ø‡¶≤‡¶® ‡¶ò‡¶ü‡ßá ‡¶π‡¶æ‡¶∏‡¶ø‡¶§‡ßá, ‡¶¨‡ßá‡¶°‡¶º‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º Stories-‡¶è",
      "‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶Æ‡¶æ‡¶†, ‡¶∂‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡¶ø‡¶¨‡ßá‡¶∂",
      "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶§‡ßá Harmony ‡¶ì ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø",
      "‡¶¶‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶¨‡¶æ‡¶Å‡¶ß‡¶æ",
      "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßá‡¶∞ Bandhan-‡¶è ‡¶è‡¶ï‡¶§‡ßç‡¶∞‡¶ø‡¶§ ‡¶Ü‡¶Æ‡¶∞‡¶æ",
      "‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡ßá‡¶∂‡ßÄ ‡¶π‡¶Ø‡¶º‡ßá ‡¶ì‡¶†‡ßá ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ",
      "‡¶Ø‡¶§‡ßç‡¶®‡ßá ‡¶Æ‡¶ø‡¶∂‡ßá, ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶¨‡ßá‡¶°‡¶º‡ßá ‡¶â‡¶†‡¶æ"
    ]
  }
};

// Bilingual texts for greetings and UI labels
const texts = {
  en: {
    greeting: {
      morningTitle: 'üåÖ Namaskar!',
      morningMsg: 'As the sun rises, may your heart be light, your thoughts be clear, and your spirit shine bright!',
      afternoonTitle: 'üå§Ô∏è Good Afternoon!',
      afternoonMsg: 'May the rhythm of the day move with purpose, and your efforts blossom into fulfillment!',
      eveningTitle: 'üåÜ Good Evening!',
      eveningMsg: 'Let the dusk bring calm to your soul, and the quiet hours prepare you for dreams yet to unfold!',
      defaultTitle: '‚ú® Welcome!',
      defaultMsg: 'Grateful to have you here ‚Äî may your time with us bring inspiration and clarity!',
    },
    closeGreetingBtn: 'Close',
    toastMsg: 'üôè Thanks for visiting us again!',
  },
  bn: {
    greeting: {
      morningTitle: 'üåÖ ‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!',
      morningMsg: '‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø ‡¶ì‡¶†‡¶æ‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶π‡ßÉ‡¶¶‡¶Ø‡¶º ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶π‡ßã‡¶ï, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ ‡¶∏‡ßç‡¶™‡¶∑‡ßç‡¶ü ‡¶π‡ßã‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶§‡ßç‡¶Æ‡¶æ ‡¶â‡¶ú‡ßç‡¶ú‡ßç‡¶¨‡¶≤ ‡¶π‡ßã‡¶ï!',
      afternoonTitle: 'üå§Ô∏è ‡¶∂‡ßÅ‡¶≠ ‡¶Ö‡¶™‡¶∞‡¶æ‡¶π‡ßç‡¶®!',
      afternoonMsg: '‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶õ‡¶®‡ßç‡¶¶ ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡ßã‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶∏‡¶´‡¶≤ ‡¶π‡ßã‡¶ï!',
      eveningTitle: 'üåÜ ‡¶∂‡ßÅ‡¶≠ ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ!',
      eveningMsg: '‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶§‡ßç‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø ‡¶¶‡¶ø‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶¨‡¶™‡ßç‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡¶ø ‡¶®‡¶ø‡¶ï!',
      defaultTitle: '‚ú® ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!',
      defaultMsg: '‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‚Äî ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ö‡¶®‡ßÅ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶™‡¶∑‡ßç‡¶ü‡¶§‡¶æ‡¶Ø‡¶º ‡¶≠‡¶∞‡¶™‡ßÅ‡¶∞ ‡¶π‡ßã‡¶ï!',
    },
    closeGreetingBtn: '‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®',
    toastMsg: 'üôè ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!',
  }
};

let currentLang = localStorage.getItem('lang') || 'en';

// Cache DOM elements used multiple times
const modal = document.getElementById('greetingModal');
const closeBtn = document.getElementById('closeGreetingBtn');
const mapToggleBtn = document.getElementById('map-toggle-btn');
const mapPopup = document.getElementById('map-popup');
const toggle = document.getElementById('darkModeToggle');
const scrollBtn = document.getElementById('scrollToTop');
const langToggleBtn = document.getElementById('langToggle');
const heroOverlay = document.querySelector('.overlay');
const mainHeading = document.querySelector('.main-heading');
const testimonialElements = document.querySelectorAll('.testimonial');
const cardElements = document.querySelectorAll('.card');
const typingText = document.getElementById('typing-text');


// --- Confetti logic unchanged ---
function runConfetti() {
  const duration = 1.5 * 1000;
  const end = Date.now() + duration;

  (function frame() {
    confetti({
      particleCount: 20,
      angle: Math.random() * 180,
      spread: 150 + Math.random() * 50,
      origin: { x: Math.random() },
      colors: ['#ff0000', '#ff7300', '#fffb00', '#00ff00', '#00bfff', '#800080', '#ff1493', '#ff69b4', '#f0e68c', '#adff2f'],
      scalar: 1.0 + Math.random() * 0.5,
      drift: Math.random() * 3,
      gravity: 0.5 + Math.random() * 0.5,
    });
    confetti({
      particleCount: 20,
      angle: Math.random() * 180,
      spread: 150 + Math.random() * 50,
      origin: { x: Math.random() },
      colors: ['#ff0000', '#ff7300', '#fffb00', '#00ff00', '#00bfff', '#800080', '#ff1493', '#ff69b4', '#f0e68c', '#adff2f'],
      scalar: 1.0 + Math.random() * 0.5,
      drift: Math.random() * 3,
      gravity: 0.5 + Math.random() * 0.5,
    });
    confetti({
      particleCount: 20,
      angle: Math.random() * 180,
      spread: 200,
      origin: { x: 0.5 },
      colors: ['#ff0000', '#ff7300', '#fffb00', '#00ff00', '#00bfff', '#800080', '#ff1493', '#ff69b4', '#f0e68c', '#adff2f'],
      scalar: 1.0 + Math.random() * 0.5,
      drift: Math.random() * 3,
      gravity: 0.5 + Math.random() * 0.5,
    });

    if (Date.now() < end) {
      requestAnimationFrame(frame);
    }
  })();
}


// Update all texts for UI elements based on currentLang
function updateTexts() {
  // Update greeting modal text
  const hour = new Date().getHours();
  let greetTitle, greetMsg;

  if (hour < 12) {
    greetTitle = texts[currentLang].greeting.morningTitle;
    greetMsg = texts[currentLang].greeting.morningMsg;
  } else if (hour < 17) {
    greetTitle = texts[currentLang].greeting.afternoonTitle;
    greetMsg = texts[currentLang].greeting.afternoonMsg;
  } else {
    greetTitle = texts[currentLang].greeting.eveningTitle;
    greetMsg = texts[currentLang].greeting.eveningMsg;
  }

  document.getElementById('greetingTitle').textContent = greetTitle;
  document.getElementById('greetingMessage').textContent = greetMsg;
  closeBtn.textContent = texts[currentLang].closeGreetingBtn;

  // Update map toggle button text
  if (mapPopup.style.display === 'block') {
    mapToggleBtn.textContent = content[currentLang].map.hide;
  } else {
    mapToggleBtn.textContent = content[currentLang].map.show;
  }

  // Update dark mode toggle button tooltip & aria-label
  const darkModeEnabled = document.body.classList.contains('dark');
  if (darkModeEnabled) {
    toggle.title = content[currentLang].darkMode.on;
    toggle.setAttribute('aria-label', content[currentLang].darkMode.on);
  } else {
    toggle.title = content[currentLang].darkMode.off;
    toggle.setAttribute('aria-label', content[currentLang].darkMode.off);
  }

  // Update scroll to top button tooltip & aria-label
  scrollBtn.title = content[currentLang].scrollTop;
  scrollBtn.setAttribute('aria-label', content[currentLang].scrollTop);

  // Update hero texts
  if(heroOverlay) heroOverlay.textContent = content[currentLang].heroOverlay;
  if(mainHeading) mainHeading.textContent = content[currentLang].mainHeading;

  // Update testimonials
  testimonialElements.forEach((el, idx) => {
    if(content[currentLang].testimonials[idx]) {
      el.textContent = content[currentLang].testimonials[idx];
    }
  });

  // Update cards titles and descriptions
  cardElements.forEach((el, idx) => {
    if(content[currentLang].cards[idx]) {
      const h3 = el.querySelector('h3');
      const p = el.querySelector('p');
      if(h3) h3.textContent = content[currentLang].cards[idx].title;
      if(p) p.textContent = content[currentLang].cards[idx].desc;
    }
  });

  // Update language toggle button
  langToggleBtn.textContent = content[currentLang].langToggle.buttonText;
  langToggleBtn.setAttribute('aria-label', content[currentLang].langToggle.label);
  langToggleBtn.title = content[currentLang].langToggle.title;
}


// Show thank you toast after closing greeting
function showThankYouToast() {
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.textContent = texts[currentLang].toastMsg;
  document.body.appendChild(toast);

  setTimeout(() => {
    toast.remove();
  }, 3100);
}


// Close greeting modal function
function closeGreeting() {
  modal.classList.remove('show');
  setTimeout(() => {
    modal.style.display = 'none';
    sessionStorage.setItem('greetingShown', 'true');
    showThankYouToast();
  }, 400);
}


// Scroll to top helper
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}


// Typing animation variables
let phraseIndex = 0;
let letterIndex = 0;
let typingInterval;
let deleting = false;

// Typing animation function using current language phrases
function startTypingAnimation() {
  const phrases = content[currentLang].typingPhrases;

  function type() {
    if (!deleting) {
      typingText.textContent += phrases[phraseIndex][letterIndex];
      letterIndex++;
      if (letterIndex === phrases[phraseIndex].length) {
        deleting = true;
        clearInterval(typingInterval);
                setTimeout(() => {
          typingInterval = setInterval(type, 100);
        }, 2000);
      }
    } else {
      typingText.textContent = phrases[phraseIndex].substring(0, letterIndex - 1);
      letterIndex--;
      if (letterIndex === 0) {
        deleting = false;
        clearInterval(typingInterval);
        phraseIndex = (phraseIndex + 1) % phrases.length;
        setTimeout(() => {
          typingInterval = setInterval(type, 150);
        }, 1000);
      }
    }
  }

  // Start fresh
  clearInterval(typingInterval);
  typingText.textContent = '';
  phraseIndex = 0;
  letterIndex = 0;
  deleting = false;
  typingInterval = setInterval(type, 150);
}

// Start typing animation on load
startTypingAnimation();

// Scroll to top button
scrollBtn.addEventListener('click', scrollToTop);

window.addEventListener('scroll', () => {
  if (window.scrollY > 100) {
    scrollBtn.style.display = 'block';
  } else {
    scrollBtn.style.display = 'none';
  }
});

// Language toggle button
langToggleBtn.addEventListener('click', () => {
  currentLang = currentLang === 'en' ? 'bn' : 'en';
  localStorage.setItem('lang', currentLang);
  updateTexts();
  startTypingAnimation(); // Restart animation in new language
});

// Initialize UI texts on load
updateTexts();

</script>

<script src="layout-loader.js"></script>

<!-- Toast notification script -->
<script>
  (function() {
    const latestVersion = "2025-08-21"; // Update this on every changelog update
    const storageKey = "avishikta_changelog_seen";

    // Check if user already saw this version
    if (localStorage.getItem(storageKey) === latestVersion) {
      return; // Already seen, no need to show
    }

    // Create toast container
    const toast = document.createElement("div");
    toast.id = "changelog-toast";
    toast.innerHTML = `
      <div class="toast-content">
        <strong>üîî Recent Update!</strong>
        <span>We've made some improvements. </span>
        <a href="/changelog.html" target="_blank" rel="noopener">View Details</a>
        <button aria-label="Close notification">&times;</button>
      </div>
    `;
    document.body.appendChild(toast);

    // Style it
    const style = document.createElement("style");
    style.textContent = `
      #changelog-toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(to right, #fefcea, #f1da36);
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        align-items: center;
        gap: 1rem;
        max-width: 350px;
        z-index: 9999;
        animation: slideIn 0.4s ease forwards;
        color: #333;
        font-weight: 600;
      }
      #changelog-toast .toast-content {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        font-size: 0.85rem;
      }
      #changelog-toast a {
        color: #4CAF50;
        font-weight: 700;
        text-decoration: none;
      }
      #changelog-toast a:hover {
        text-decoration: underline;
      }
      #changelog-toast button {
        background: transparent;
        border: none;
        font-size: 1.4rem;
        line-height: 1;
        cursor: pointer;
        color: #333;
        padding: 0;
      }
      @keyframes slideIn {
        from { opacity: 0; transform: translateX(100%); }
        to { opacity: 1; transform: translateX(0); }
      }
      @keyframes slideOut {
        from { opacity: 1; transform: translateX(0); }
        to { opacity: 0; transform: translateX(100%); }
      }

      /* Responsive for mobile */
      @media (max-width: 480px) {
        #changelog-toast {
          max-width: 90vw;
          right: 5vw;
          top: 10px;
          font-size: 0.9rem;
          padding: 0.8rem 1rem;
          flex-direction: column;
          gap: 0.5rem;
          align-items: flex-start;
        }
        #changelog-toast .toast-content {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.3rem;
        }
        #changelog-toast button {
          align-self: flex-end;
          font-size: 1.2rem;
        }
      }
    `;
    document.head.appendChild(style);

    // Close button logic
    toast.querySelector("button").addEventListener("click", () => {
      toast.style.animation = "slideOut 0.3s ease forwards";
      toast.addEventListener("animationend", () => toast.remove());
      localStorage.setItem(storageKey, latestVersion); // Mark as seen
    });
  })();
</script>

</body>
</html>
