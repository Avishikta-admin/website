<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <meta name="description" content="Official page of Avishikta - I Type - A RWA. Stay informed, get involved, and build a stronger association.">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.8.162/pdf.min.js"></script>
  <script src="layout-loader.js"></script>
  
  <title>Member Utilities - Housing Association</title>
  <style>
    :root {
      --bg: linear-gradient(135deg, #f0f8ff, #d1eaff);
      --card-bg: #f3e5f5;
      --text: #4a148c;
      --primary: #0077cc;
      --shadow: rgba(0, 0, 0, 0.1);
      --radius: 8px;
      --font: 'Segoe UI', sans-serif;
    }

    body {
      font-family: var(--font);
      background: var(--bg);
      margin: 0;
      padding: 0;
      color: var(--text);
    }

  .intro {
  padding: 0.5rem;  /* Reduced vertical padding */
  background: #f5f9ff;
  border-bottom: 2px solid #d0d7e3;
  margin-bottom: 1.5rem;
  text-align: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.intro h1 {
  font-size: 1.1rem;      /* Slightly smaller font */
  margin-bottom: 0.2rem;  /* Reduced gap */
  color: #2c3e50;
}

.intro p {
  margin-top: 0;
  font-size: 1rem;        /* Slightly smaller font */
  color: #555;
}

    .utility-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: 0 2px 8px var(--shadow);
    }

    .card h2 {
      font-size: 1rem;
      margin-bottom: 10px;
    }

    /* Inputs and selects get full width and border */
input, select {
  width: 100%;
  box-sizing: border-box; /* include padding & border in width */
  padding: 10px;
  font-size: 1rem;
  margin: 5px 0 10px;
  border-radius: var(--radius);
  border: 1px solid #ccc;
}

/* Buttons get their own style, NOT full width */
button {
  padding: 10px 15px;
  font-size: 0.9rem;
  margin: 5px 0 10px;
  border-radius: var(--radius);
  background-color: var(--primary);
  color: #fff;
  border: none;
  cursor: pointer;
  width: auto; /* natural button width */
}

button:hover {
  background-color: #005fa3;
}

/* Result box style */
.result {
  background: #eef;
  padding: 10px;
  border-radius: var(--radius);
  margin-top: 10px;
  min-height: 20px;
}

    @media (max-width: 600px) {
      .intro h1 {
        font-size: 1.5rem;
      }
    }

@media (max-width: 480px) {
  .card h2, .card h3 {
    font-size: 1rem;
  }

  button {
    font-size: 0.85rem;
    padding: 8px 12px;
  }

  input, select {
    font-size: 0.95rem;
  }
}

@media (max-width: 768px) {
  .utility-grid {
    grid-template-columns: 1fr;
  }

  .card {
    margin-bottom: 1rem;
  }
}

#goTopBtn {
  position: fixed;
  bottom: 40px;
  right: 20px;
  z-index: 999;
  width: 40px;
  height: 40px;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 1.0rem;
  cursor: pointer;
  display: none; /* Initially hidden */
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
  transition: opacity 0.3s ease-in-out;
}

#goTopBtn:hover {
  background-color: #005fa3;
}

#healthCardView .card {
  padding: 10px 15px;  /* reduce padding inside each card */
  margin-bottom: 10px; /* smaller gap between cards */
}

#healthCardView .card h2 {
  margin-bottom: 6px;  /* less space below the heading */
  font-size: 1.0rem;   /* slightly smaller heading if needed */
}

#healthCardView .card p {
  margin: 3px 0;       /* less vertical margin on paragraphs */
  line-height: 1.2;    /* tighter line height */
  font-size: 0.9rem;   /* smaller font for a compact look */
}

/* Keep thead font size as is */
  #healthTableView table thead th {
    font-size: 0.85rem; /* or whatever size you want */
  }
  
  /* Reduce tbody font size */
  #healthTableView table tbody td {
    font-size: 0.85rem; /* smaller than headings */
  }

</style>
</head>

<body>
  <div id="layout"></div>

  <main style="margin-top: 0px; padding: 0 1rem 1rem 1rem;">
    <section class="intro">
      <h1>ğŸ¡ Member Utilities</h1>
      <p>Smart tools crafted with our housing association members in mind</p>
    </section>

<!-- ğŸ¥ Health Metrics Section -->
<!-- ğŸ”– Common Health Metrics Heading with Buttons -->
<div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; margin-top: 1.5rem;">
  <h2 style="margin: 0; font-size: 0.95rem;">ğŸ“Š Common Health Metrics</h2>

  <div style="display: flex; gap: 10px; align-items: center;">
    <!-- ğŸ” Switch View Button -->
    <button id="toggleViewBtn"
      onclick="toggleHealthView()"
      style="
        padding: 6px 10px;
        font-size: 0.8rem;
        border-radius: 6px;
        background-color: #0077cc;
        color: white;
        border: none;
        cursor: pointer;">
      ğŸ”„ Switch to Table View
    </button>

    <!-- ğŸ”„ Reset All Button with Tooltip -->
    <button id="resetAllBtn"
      onclick="resetAll()"
      title="Clear all health data & results"
      style="
        padding: 6px 10px;
        font-size: 0.8rem;
        border-radius: 6px;
        background-color: #cc3300;
        color: white;
        border: none;
        cursor: pointer;">
      ğŸ”„ Reset All
    </button>
  </div>
</div>


<!-- ğŸ“Š TABLE VIEW -->
<div class="card" id="healthTableView" style="grid-column: 1 / -1; padding: 0; overflow-x: auto;">
  <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
    <thead style="background-color: #0077cc; color: white;">
      <tr>
        <th style="padding: 10px; text-align: left;">Parameter</th>
        <th style="padding: 10px; text-align: left;">Standard</th>
        <th style="padding: 10px; text-align: left;">Alert</th>
        <th style="padding: 10px; text-align: left;">Tip</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background: #e0f7fa;">
        <td>ğŸ©º Blood Pressure</td>
        <td>120/80 mmHg</td>
        <td style="color: #ff9800;">&gt;130/90 mmHg</td>
        <td>Reduce salt, manage stress</td>
      </tr>
      <tr style="background: #e8f5e9;">
        <td>ğŸ¬ Blood Sugar (Fasting)</td>
        <td>80â€“100 mg/dL</td>
        <td style="color: #e53935;">&gt;110 mg/dL</td>
        <td>Cut sweets, test regularly</td>
      </tr>
      <tr style="background: #e6ffe6;">
        <td>ğŸ­ Blood Sugar (Post-Meal)</td>
        <td>&lt;140 mg/dL</td>
        <td style="color: #e53935;">&gt;180 mg/dL</td>
        <td>Avoid high-GI food, walk post meals</td>
      </tr>
      <tr style="background: #fff3e0;">
        <td>ğŸ¥— Cholesterol (Total)</td>
        <td>&lt;200 mg/dL</td>
        <td style="color: #f44336;">&gt;240 mg/dL</td>
        <td>More fiber, less fried food</td>
      </tr>
      <tr style="background: #fce4ec;">
        <td>âš–ï¸ Body Mass Index (BMI)</td>
        <td>18.5â€“24.9</td>
        <td style="color: #ef6c00;">Under 18.5 or Over 25</td>
        <td>Track weight, stay active</td>
      </tr>
      <tr style="background: #ede7f6;">
        <td>ğŸ’“ Resting Heart Rate</td>
        <td>60â€“100 bpm</td>
        <td style="color: #ff5722;">&lt;50 or &gt;100 bpm</td>
        <td>Hydrate, reduce caffeine</td>
      </tr>
      <tr style="background: #e1f5fe;">
        <td>ğŸŒ¬ï¸ SpOâ‚‚ (Oxygen Level)</td>
        <td>95%â€“100%</td>
        <td style="color: #d32f2f;">Below 94%</td>
        <td>Seek help if persistently low</td>
      </tr>
      <tr style="background: #fff8e1;">
  <td>ğŸ’¤ Sleep Duration</td>
  <td>7â€“9 hours/night</td>
  <td style="color: #f57f17;">Less than 6 hours/night</td>
  <td>Maintain regular schedule, avoid screens before bed</td>
</tr>
<tr style="background: #f3e5f5;">
  <td>ğŸ“ Waist Circumference</td>
  <td>&lt;35 in (women), &lt;40 in (men)</td>
  <td style="color: #d32f2f;">Above these values</td>
  <td>Watch diet, increase activity</td>
</tr>
<tr style="background: #fffde7;">
  <td>ğŸ§‚ Sodium</td>
  <td>135â€“145 mEq/L</td>
  <td style="color: #f57f17;">&lt;135 or &gt;145 mEq/L</td>
  <td>Balance salt intake, avoid processed foods</td>
</tr>
<tr style="background: #e0f2f1;">
  <td>ğŸ¥” Potassium</td>
  <td>3.5â€“5.0 mEq/L</td>
  <td style="color: #d32f2f;">&lt;3.5 or &gt;5.0 mEq/L</td>
  <td>Eat potassium-rich foods (bananas, spinach), monitor if on meds</td>
</tr>
<tr style="background: #fff3e0;">
  <td>ğŸ§ª Creatinine</td>
  <td>0.6â€“1.3 mg/dL</td>
  <td style="color: #f44336;">&gt;1.3 mg/dL</td>
  <td>Stay hydrated, monitor kidney health</td>
</tr>

    </tbody>
  </table>
</div>
<br>

<!-- ğŸ“± CARD VIEW (Initially hidden) -->
<div id="healthCardView" style="display: none;">
  <div class="card" style="background: #e0f7fa;">
    <h2>ğŸ©º Blood Pressure</h2>
    <p><strong>Standard:</strong> 120/80 mmHg</p>
    <p style="color: #ff9800;"><strong>Alert:</strong> >130/90 mmHg</p>
    <p>ğŸ’¡ Tip: Reduce salt, manage stress</p>
  </div>

  <div class="card" style="background: #e8f5e9;">
    <h2>ğŸ¬ Blood Sugar (Fasting)</h2>
    <p><strong>Standard:</strong> 80â€“100 mg/dL</p>
    <p style="color: #e53935;"><strong>Alert:</strong> >110 mg/dL</p>
    <p>ğŸ’¡ Tip: Cut sweets, test regularly</p>
  </div>

  <div class="card" style="background: #e6ffe6;">
    <h2>ğŸ­ Blood Sugar (Post-Meal)</h2>
    <p><strong>Standard:</strong> &lt;140 mg/dL</p>
    <p style="color: #e53935;"><strong>Alert:</strong> >180 mg/dL</p>
    <p>ğŸ’¡ Tip: Avoid high-GI foods, walk after meals</p>
  </div>

  <div class="card" style="background: #fff3e0;">
    <h2>ğŸ¥— Cholesterol (Total)</h2>
    <p><strong>Standard:</strong> &lt;200 mg/dL</p>
    <p style="color: #f44336;"><strong>Alert:</strong> >240 mg/dL</p>
    <p>ğŸ’¡ Tip: Avoid fried food, eat fiber</p>
  </div>

  <div class="card" style="background: #fce4ec;">
    <h2>âš–ï¸ Body Mass Index (BMI)</h2>
    <p><strong>Standard:</strong> 18.5â€“24.9</p>
    <p style="color: #ef6c00;"><strong>Alert:</strong> Under 18.5 or Over 25</p>
    <p>ğŸ’¡ Tip: Track weight, stay active</p>
  </div>

  <div class="card" style="background: #ede7f6;">
    <h2>ğŸ’“ Resting Heart Rate</h2>
    <p><strong>Standard:</strong> 60â€“100 bpm</p>
    <p style="color: #ff5722;"><strong>Alert:</strong> Below 50 or Above 100</p>
    <p>ğŸ’¡ Tip: Hydrate, reduce caffeine</p>
  </div>

  <div class="card" style="background: #e1f5fe;">
    <h2>ğŸŒ¬ï¸ SpOâ‚‚ (Oxygen Level)</h2>
    <p><strong>Standard:</strong> 95%â€“100%</p>
    <p style="color: #d32f2f;"><strong>Alert:</strong> Below 94%</p>
    <p>ğŸ’¡ Tip: Seek help if persistently low</p>
  </div>
  <div class="card" style="background: #fff8e1;">
  <h2>ğŸ’¤ Sleep Duration</h2>
  <p><strong>Standard:</strong> 7â€“9 hours/night</p>
  <p style="color: #f57f17;"><strong>Alert:</strong> Less than 6 hours/night</p>
  <p>ğŸ’¡ Tip: Maintain regular schedule, avoid screens before bed</p>
</div>

<div class="card" style="background: #f3e5f5;">
  <h2>ğŸ“ Waist Circumference</h2>
  <p><strong>Standard:</strong> &lt;35 in (women), &lt;40 in (men)</p>
  <p style="color: #d32f2f;"><strong>Alert:</strong> Above these values</p>
  <p>ğŸ’¡ Tip: Watch diet, increase activity</p>
</div>
<div class="card" style="background: #fffde7;">
  <h2>ğŸ§‚ Sodium</h2>
  <p><strong>Standard:</strong> 135â€“145 mEq/L</p>
  <p style="color: #f57f17;"><strong>Alert:</strong> &lt;135 or &gt;145 mEq/L</p>
  <p>ğŸ’¡ Tip: Balance salt intake, avoid processed foods</p>
</div>

<div class="card" style="background: #e0f2f1;">
  <h2>ğŸ¥” Potassium</h2>
  <p><strong>Standard:</strong> 3.5â€“5.0 mEq/L</p>
  <p style="color: #d32f2f;"><strong>Alert:</strong> &lt;3.5 or &gt;5.0 mEq/L</p>
  <p>ğŸ’¡ Tip: Eat potassium-rich foods ((bananas, spinach), monitor if on meds</p>
</div>

<div class="card" style="background: #fff3e0;">
  <h2>ğŸ§ª Creatinine</h2>
  <p><strong>Standard:</strong> 0.6â€“1.3 mg/dL</p>
  <p style="color: #f44336;"><strong>Alert:</strong> &gt;1.3 mg/dL</p>
  <p>ğŸ’¡ Tip: Stay hydrated, monitor kidney health</p>
</div>

</div>

    <section class="utility-grid">
      <!-- ğŸ’° Tax Estimator (Upgraded) -->
  <div class="card">
  <h2>ğŸ’° Tax Estimator (India)</h2>

  <label>Annual Income (â‚¹):</label>
  <<input type="number" min="0" id="incomeInput" placeholder="Enter total income" />

  <label>Deductions (â‚¹):</label>
  <input type="number" min="0" id="deductionInput" placeholder="Enter 80C/80D deductions" />

  <label>Age Group:</label>
  <select id="ageGroup">
    <option value="below60">Below 60</option>
    <option value="senior">Senior (60-79)</option>
    <option value="super">Super Senior (80+)</option>
  </select>

  <button onclick="calculateTax()">Calculate Tax</button>
  <div class="result" id="taxResult"></div>
</div>

<!-- ğŸ“ğŸ“ˆ Unit Converter + INR to USD -->
<div class="card">
  <h2>ğŸ“ Conversions</h2>

  <!-- Unit Converter Section -->
  <h3 style="margin-bottom: 5px;">ğŸ§® Unit Converter</h3>
  <select id="unitType" onchange="updateUnitPlaceholders()">
    <option value="km-miles">KM â†” Miles</option>
    <option value="kg-lbs">Kg â†” Lbs</option>
    <option value="c-f">Â°C â†” Â°F</option>
  </select>
  <input type="number" min="0" id="unitInput" placeholder="Enter value" />
  <button onclick="convertUnit()">Convert</button>
  <div class="result" id="unitResult"></div>

  <hr style="margin: 15px 0;" />

  <!-- INR to USD Section -->
  <h3 style="margin-bottom: 5px;">ğŸ’± INR â†’ USD</h3>
  <input type="number" min="0" id="inrInput" placeholder="Enter INR" />
  <button onclick="convertINR()">Convert</button>
  <div class="result" id="inrResult"></div>
</div>

<!-- ğŸ› ï¸ Issue Reporter -->
<div class="card">
  <h2>ğŸ› ï¸ Report an Issue</h2>
  <label for="issueCategory">Category:</label>
  <select id="issueCategory">
    <option value="Water">ğŸš¿ Water</option>
    <option value="Electricity">ğŸ’¡ Electricity</option>
    <option value="Cleanliness">ğŸ§¹ Cleanliness</option>
    <option value="Security">ğŸ”’ Security</option>
    <option value="Other">â“ Other</option>
  </select>

  <label for="issueText">Describe the issue:</label>
  <input type="text" id="issueText" placeholder="E.g., Leakage in basement near B-12" />

  <button onclick="submitIssue()">Submit Issue</button>

  <hr style="margin: 10px 0;" />

  <h3>ğŸ“ Reported Issues</h3>
  <ul id="issueList" style="padding-left: 1.1rem;"></ul>

</div>

<!-- ğŸ“…ğŸ‚ Age & Date Tools -->
<div class="card">
  <h2>ğŸ“… Date Tools</h2>

  <!-- Age Calculator -->
  <h3 style="margin-bottom: 5px;">ğŸ‚ Age Calculator</h3>
  <input type="date" id="dobInput" />
  <button onclick="calculateAge()">Calculate Age</button>
  <div class="result" id="ageResult"></div>

  <hr style="margin: 15px 0;" />

  <!-- Date Difference -->
  <h3 style="margin-bottom: 5px;">ğŸ—“ï¸ Date Difference</h3>
  <label>From:</label>
  <input type="date" id="date1Input" />
  <label>To:</label>
  <input type="date" id="date2Input" />
  <button onclick="calculateDateDiff()">Calculate</button>
  <div class="result" id="dateDiffResult"></div>
</div>


<!-- ğŸ’¡ Tip, Fact & Quote Generator -->
<!-- ğŸ’¡ Daily Inspiration Generator -->
<div class="card">
  <h2>ğŸ’¡ Daily Inspiration</h2>
  <div class="result" id="comboResult"></div>
  <button onclick="showNextItem()">ğŸ”„ Next</button>

  <hr style="margin: 10px 0" />

  <h3>Submit a Tip:</h3>
  <input type="text" id="tipInput" placeholder="Write your own tip..." />
  <button onclick="submitTip()">Submit Tip</button>
</div>


<!-- ğŸ§  Society Trivia Game -->
<div class="card">
  <h2>ğŸ§  Society Trivia</h2>
  <div id="triviaQuestion">Click "Start" to begin!</div>
  <div id="triviaOptions"></div>
  <button onclick="startTrivia()">Start</button>
  <div class="result" id="triviaResult"></div>
</div>

</section>

<!-- â¬†ï¸ Scroll to Top Button -->
<button id="goTopBtn" onclick="scrollToTop()" title="Go to top">â¬†ï¸</button>

</main>

  <script>
    // ğŸ’° Tax Estimator
  function calculateTax() {
      const inc = parseFloat(document.getElementById('incomeInput').value) || 0;
      const ded = parseFloat(document.getElementById('deductionInput').value) || 0;
      const age = document.getElementById('ageGroup').value;
      if (inc < 0 || ded < 0) {
        alert('Enter non-negative amounts');
        return;
      }
      let slab = age === 'senior'? 300000 : age === 'super'? 500000 : 250000;
      const net = inc - ded;
      let tax = 0;
      if (net > slab && net <= 500000) tax = (net - slab) * 0.05;
      else if (net <= 1000000) tax = 12500 + (net - 500000) * 0.2;
      else if (net > 1000000) tax = 112500 + (net - 1000000) * 0.3;
      document.getElementById('taxResult').innerText = "â‚¹" + (tax<0?0:tax.toFixed(2));
    }

    // Unit Convert
    function convertUnit() {
      const val = parseFloat(document.getElementById('unitInput').value);
      const type = document.getElementById('unitType').value;
      if (isNaN(val)) {
        document.getElementById('unitResult').innerText = 'Enter a valid number';
        return;
      }
      let res = type === 'km-miles'? `${val} km = ${(val*0.621371).toFixed(2)} miles`
        : type === 'kg-lbs'? `${val} kg = ${(val*2.20462).toFixed(2)} lbs`
        : `${val}Â°C = ${(val*9/5+32).toFixed(2)}Â°F`;
      document.getElementById('unitResult').innerText = res;
    }

    function updateUnitPlaceholders() {
      document.getElementById('unitInput').value = '';
      document.getElementById('unitResult').innerText = '';
    }

    // ğŸ‚ Age Calculator
    function calculateAge() {
      const dobv = document.getElementById('dobInput').value;
      if (!dobv) {
        alert('Please choose a birth date');
        return;
      }
      const dob = new Date(dobv), now = new Date();
      let age = now.getFullYear() - dob.getFullYear();
      const m = now.getMonth() - dob.getMonth();
      if (m<0 || (m===0 && now.getDate()<dob.getDate())) age--;
      document.getElementById('ageResult').innerText = "Age: " + age + " years";
    }

    // Date Difference
    function calculateDateDiff() {
      const d1 = document.getElementById('date1Input').value;
      const d2 = document.getElementById('date2Input').value;
      const dt1 = d1? new Date(d1):NaN, dt2 = d2? new Date(d2):NaN;
      if (!d1 || !d2 || isNaN(dt1.getTime()) || isNaN(dt2.getTime())) {
        document.getElementById('dateDiffResult').innerText = 'Enter both valid dates';
        return;
      }
      const diff = Math.abs(dt2 - dt1);
      document.getElementById('dateDiffResult').innerText = Math.floor(diff/(1000*60*60*24)) + " days";
    }

  const defaultTips = [
  "Keep emergency contact numbers for security and maintenance easily accessible.",
  "Switch off common area lights during daytime to save energy.",
  "Regularly inspect and clean drainage systems to prevent waterlogging.",
  "Report any damaged sidewalks or community facilities promptly.",
  "Avoid parking in fire lanes to keep access clear for emergency vehicles.",
  "Participate in community clean-up drives to keep the neighborhood pleasant.",
  "Use water-efficient fixtures to reduce communal water consumption.",
  "Notify the committee about unauthorized construction or renovations."
];

const defaultFacts = [
  "Properly maintained green spaces can increase property values by up to 15%.",
  "Energy-efficient LED lighting can reduce electricity use by up to 80%.",
  "Timely maintenance of plumbing reduces water wastage and costly repairs.",
  "Community security initiatives have been shown to reduce theft by 30%.",
  "Regular pest control in shared spaces prevents widespread infestations.",
  "Installing rainwater harvesting systems can cut outdoor water use by 50%.",
  "Shared solar power systems are becoming popular in housing societies to lower electricity bills.",
  "Noise pollution can significantly impact residentsâ€™ wellbeing and property values."
];


const defaultQuotes = [
  "â€œAlone we can do so little; together we can do so much.â€ â€” Helen Keller",
  "â€œThe best way to find yourself is to lose yourself in the service of others.â€ â€” Gandhi",
  "â€œCommunity is much more than belonging to something; itâ€™s about doing something together.â€ â€” Unknown",
  "â€œComing together is a beginning, staying together is progress, and working together is success.â€ â€” Henry Ford",
  "â€œA journey of a thousand miles begins with a single step.â€ â€” Lao Tzu",
  "â€œThe strength of the team is each individual member. The strength of each member is the team.â€ â€” Phil Jackson",
  "â€œIt takes a village to raise a child, and a community to build a home.â€ â€” Unknown",
  "â€œGreat things in business are never done by one person; theyâ€™re done by a team of people.â€ â€” Steve Jobs",
  "â€œIn every community, there is work to be done. In every nation, there are wounds to heal.â€ â€” Marian Wright Edelman",
  "â€œWe cannot live only for ourselves. A thousand fibers connect us with our fellow men.â€ â€” Herman Melville",
  "â€œShared joy is a double joy; shared sorrow is half a sorrow.â€ â€” Swedish Proverb",
  "â€œUnity is strength... when there is teamwork and collaboration, wonderful things can be achieved.â€ â€” Mattie Stepanek"
];


// Helper functions
function getLocalArray(key, fallback) {
  const stored = localStorage.getItem(key);
  return stored ? JSON.parse(stored) : fallback;
}

function getRandomFromArray(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

// Arrays and labels for rotation
const comboArrays = [
  () => getLocalArray("customTips", defaultTips),
  () => defaultQuotes,
  () => defaultFacts,
];

const comboLabels = ["Tip", "Quote", "Fact"];

// Current combo index, saved in localStorage
let comboIndex = parseInt(localStorage.getItem("comboIndex")) || 0;

// Show next item in the rotation
function showNextItem() {
  comboIndex = (comboIndex + 1) % comboArrays.length;
  localStorage.setItem("comboIndex", comboIndex);

  const currentArray = comboArrays[comboIndex]();
  const label = comboLabels[comboIndex];
  const text = getRandomFromArray(currentArray);

  const display = document.getElementById("comboResult");
  display.innerText = `${label}: ${text}`;
}

// Submit new tip
function submitTip() {
  const newTip = document.getElementById("tipInput").value.trim();
  if (!newTip) return alert("Please enter a tip.");

  const tips = getLocalArray("customTips", defaultTips);
  tips.push(newTip);
  localStorage.setItem("customTips", JSON.stringify(tips));

  document.getElementById("tipInput").value = "";
  alert("Tip submitted!");

  // If currently showing Tip, refresh to show new tip
  if (comboIndex === 0) showNextItem();
}

// On page load, show last shown or a random one
window.addEventListener("DOMContentLoaded", () => {
  const currentArray = comboArrays[comboIndex]();
  const label = comboLabels[comboIndex];
  const text = getRandomFromArray(currentArray);

  const display = document.getElementById("comboResult");
  display.innerText = `${label}: ${text}`;
});

function convertINR() {
  const input = document.getElementById('inrInput');
  const val = parseFloat(input.value);

  if (isNaN(val) || val <= 0) {
    alert('Please enter a valid positive amount in INR');
    input.value = ''; // Clear the textbox
    return;
  }

  const out = document.getElementById('inrResult');
  out.innerText = 'âš¡ Fetching...';

  fetch('https://open.er-api.com/v6/latest/INR')
    .then(r => r.ok ? r.json() : Promise.reject())
    .then(j => {
      const rate = j.rates?.USD;
      if (!rate) throw 0;
      out.innerText = `â‚¹${val} = $${(val * rate).toFixed(2)} (â‚¹1 = $${rate.toFixed(4)})`;
    })
    .catch(_ => {
      out.innerText = 'âš ï¸ Failed to fetch exchange rate';
    });
}

// ğŸ› ï¸ Issue Reporter Logic
function submitIssue() {
  const text = document.getElementById("issueText").value.trim();
  const category = document.getElementById("issueCategory").value;
  if (!text) return alert("Please enter a description.");

  const issues = JSON.parse(localStorage.getItem("issues") || "[]");

  const newIssue = {
    text,
    category,
    date: new Date().toLocaleString()
  };

  issues.unshift(newIssue); // Add to top
  localStorage.setItem("issues", JSON.stringify(issues.slice(0, 10))); // Keep only last 10
  document.getElementById("issueText").value = "";
  loadIssues();
}

function loadIssues() {
  const issues = JSON.parse(localStorage.getItem("issues") || "[]");
  const list = document.getElementById("issueList");
  list.innerHTML = "";

  if (issues.length === 0) {
    list.innerHTML = "<li style='color: gray;'>No issues reported yet.</li>";
    return;
  }

  issues.forEach(issue => {
    const li = document.createElement("li");
    li.innerHTML = `<strong>[${issue.category}]</strong> ${issue.text}<br/><small>${issue.date}</small>`;
    list.appendChild(li);
  });
}

// Load on startup
window.addEventListener("DOMContentLoaded", loadIssues);

// â¬†ï¸ Scroll to Top Button Logic
const goTopBtn = document.getElementById("goTopBtn");

window.onscroll = function () {
  if (document.body.scrollTop > 150 || document.documentElement.scrollTop > 150) {
    goTopBtn.style.display = "block";
  } else {
    goTopBtn.style.display = "none";
  }
};

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

const triviaQuestions = [
  {
    question: "How many flats are there in Type A?",
    options: ["24", "30", "64", "40"],
    answer: "64"
  },
  {
    question: "When was the society established?",
    options: ["2005", "2010", "2015", "2020"],
    answer: "2005"
  },
  {
    question: "How many total towers are there in our housing complex",
    options: ["10", "12", "13", "15"],
    answer: "13"
  },
  {
    question: "Which tower is the tallest?",
    options: ["Tower 1D", "Tower E", "Tower 2D", "Tower 3C"],
    answer: "Tower E"
  }
];

let currentTriviaIndex = 0;

function startTrivia() {
  if (currentTriviaIndex >= triviaQuestions.length) {
    document.getElementById("triviaQuestion").innerText = "ğŸ‰ You've completed the quiz!";
    document.getElementById("triviaOptions").innerHTML = "";
    return;
  }

  const currentQ = triviaQuestions[currentTriviaIndex];
  document.getElementById("triviaQuestion").innerText = currentQ.question;

  const optionsHTML = currentQ.options.map(option => {
    return `<button onclick="checkTriviaAnswer('${option}')">${option}</button>`;
  }).join("<br>");

  document.getElementById("triviaOptions").innerHTML = optionsHTML;
  document.getElementById("triviaResult").innerText = "";
}

function checkTriviaAnswer(selected) {
  const correct = triviaQuestions[currentTriviaIndex].answer;
  if (selected === correct) {
    document.getElementById("triviaResult").innerText = "âœ… Correct!";
  } else {
    document.getElementById("triviaResult").innerText = `âŒ Incorrect. Correct answer: ${correct}`;
  }

  currentTriviaIndex++;
  setTimeout(startTrivia, 1500); // Move to next question after 1.5s
}

// ğŸ”„ Toggle between Health Table and Card View
function toggleHealthView() {
  const table = document.getElementById("healthTableView");
  const cards = document.getElementById("healthCardView");
  const btn = document.getElementById("toggleViewBtn");

  const isTableVisible = table.style.display !== "none";

  table.style.display = isTableVisible ? "none" : "block";
  cards.style.display = isTableVisible ? "grid" : "none";

  // Optional: match grid style for card container
  if (isTableVisible) {
    cards.style.gridTemplateColumns = "repeat(auto-fit, minmax(300px, 1fr))";
    cards.style.gap = "20px";
  }

  btn.innerText = isTableVisible ? "ğŸ”„ Switch to Table View" : "ğŸ”„ Switch to Card View";
}

</script>

<script>
function resetAll() {
  if (!confirm("Are you sure you want to reset all data?")) return;

  // Clear all input fields
  document.querySelectorAll('input').forEach(input => {
    if (input.type === 'number' || input.type === 'text' || input.type === 'date') {
      input.value = '';
    }
  });

  // Reset all select dropdowns to first option
  document.querySelectorAll('select').forEach(select => {
    select.selectedIndex = 0;
  });

  // Clear all result boxes
  document.querySelectorAll('.result').forEach(result => {
    result.innerText = '';
  });

  // Clear localStorage items
  localStorage.removeItem('issues');
  localStorage.removeItem('customTips');
  localStorage.removeItem('comboIndex');

  // Reload reported issues section
  loadIssues();

  // Reset inspiration content
  showNextItem();

  alert("âœ… All data and results have been reset.");
}
</script>

</body>
</html>
